{% extends 'base.html.twig' %}

{% block title %}
    Résultats du sondage {{ survey.title }}
{% endblock %}

{% block body %}
    <h1>Résultats du sondage {{ survey.title }}</h1>
    <div id="idtest"></div>
    <div class='form-group'>
        <p>Rappel : {{ survey.question }}</p>
    </div>
    <table class="table table-striped table-bordered table-hover">
        <caption>
            <h2>1 - Synthèse des résultats</h2>
        </caption>
        <tr>
            <th>Proposition</th>
            <th>Résultat</th>
        </tr>
        {% for proposition in survey.propositions %}
            <tr>
                <td>{{ proposition.wording }}</td>
                <td>{{ proposition.answers|length }}</td>
            </tr>
        {% endfor %}
        </table>
        <h2>Synthèse</h2>
        <div id="iddivselects"> 
            <label for="answer_id">answer_id :</label>
            <select aria-label="Filtrer par answer" id="id">
            </select>
            <label for="device_type">device_type :</label>
            <select aria-label="Filtrer par device" id="device_type">
            </select>
            <label for="os_name">osöname :</label>
            <select aria-label="Filtrer par os" id="os_name">
            </select>
            <label for="browser_name">browser_name :</label>
            <select aria-label="Filtrer par browser" id="browser_name">
            </select>
        </div>
        <script src="{{ asset('_js/selectTableAjaxClass.js') }}"></script>
        <script>

        function selectTableAjax() {
           var parameter=["survey={{ survey.id }}"];
           let selectTableAjax = new SelectTableAjaxClass("iddivselects",parameter,"idtest");
        }
        selectTableAjax();
        
        </script>
{% endblock %}